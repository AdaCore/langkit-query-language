# Flag each file exceeding N textual lines

@unit_check
fun maximum_lines(unit, n: int = 10000) = {
    val tokens = unit.tokens.to_list;
    val tok    = tokens[tokens.length];

    if tok.end_line > n
    then [{message: "too many lines: " & img(tok.end_line), loc: tok}]
    else []
}
