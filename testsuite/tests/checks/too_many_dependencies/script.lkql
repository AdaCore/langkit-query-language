val maxDeps = 5

val result =
    select
        CompilationUnit(any c @ children match Identifier(any parent(depth=2) match WithClause))
        .body = l @ LibraryItem when {
            val semanticParent = l.item?.semantic_parent();
            val deps = [x | x <- c, x.referenced_decl() != semanticParent];
            deps.length > maxDeps
        }

print(result)
